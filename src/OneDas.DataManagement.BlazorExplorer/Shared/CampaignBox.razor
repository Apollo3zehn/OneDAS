<div class="campaign-box-available">
    <MatHeadline5>Available Campaigns</MatHeadline5>

    <MatList SingleSelection="true" TwoLine="true">
        @foreach (var campaignContainer in this.AppState.CampaignContainers)
        {
            <MatListItem OnClick="() => this.OnCampaignContainerSelected(campaignContainer)">
                <MatListItemText>
                    <MatListItemPrimaryText>@campaignContainer.Name.TrimStart('/').Replace("/", " / ")</MatListItemPrimaryText>
                    <MatListItemSecondaryText>@campaignContainer.CampaignMeta.ShortDescription</MatListItemSecondaryText>
                </MatListItemText>
            </MatListItem>
        }
    </MatList>
</div>
<div class="campaign-box-selected">

    @if (this.AppState.CampaignContainer != null)
    {
        <MatHeadline5>@this.AppState.CampaignContainer.Name.TrimStart('/').Replace("/", " / ")</MatHeadline5>
        <p class="long-description">
            @this.AppState.CampaignContainer.CampaignMeta.LongDescription
        </p>
        <div class="campaign-box-selected-footer">
            <div class="campaign-box-selected-footer-date">
                <b>Start:&nbsp;</b> @this.AppState.CampaignContainer.Campaign.CampaignStart.ToString("dd.MM.yyyy") &nbsp;&nbsp;&nbsp; <b>End:&nbsp;</b> @this.AppState.CampaignContainer.Campaign.CampaignEnd.ToString("dd.MM.yyyy")
            </div>

            <div class="campaign-box-selected-footer-icons">
                @if (this.AppState.Attachments != null && this.AppState.Attachments.Any())
                {
                    <MatIconButton Icon="@MatIconNames.Attach_file" OnClick="this.OpenAttachmentDialog" />
                }

                <MatIconButton Class="@(this.AppState.ClientState == ClientState.DataAvailability ? "selected" : "")" Icon="@MatIconNames.Bar_chart" OnClick="this.AppState.ToggleDataAvailability" />
            </div>
        </div>
    }
    else
    {
        <MatHeadline5>Select a Campaign ...</MatHeadline5>
    }
</div>

<Attachments @bind-IsOpen="this.AttachmentDialogIsOpen" />