@inject AppStateViewModel state

@inherits LayoutComponentBase

<nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-dark">
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbar-main" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" data-bind="page-href: 'start'">
        <img class="logo d-inline-block align-top" src="/images/network_icon.png" />
        <span>
            OneDAS (
        </span>
        <!-- ko if: OneDasState() === OneDasStateEnum.Error -->
        <small data-bind="attr: { title: LastError }"
               data-toggle="tooltip"
               class="text-danger">
            ERROR
        </small>
        <!-- /ko -->
        <!-- ko if: OneDasState() >= OneDasStateEnum.Initialization && OneDasState() < OneDasStateEnum.Ready -->
        <small data-toggle="tooltip"
               title="OneDAS is intialized waiting for a project file."
               class="text-warning">
            IDLE
        </small>
        <!-- /ko -->
        <!-- ko if: OneDasState() === OneDasStateEnum.Ready -->
        <small data-toggle="tooltip"
               title="OneDAS is running but not recording data."
               class="text-warning">
            READY
        </small>
        <!-- /ko -->
        <!-- ko if: OneDasState() === OneDasStateEnum.Run -->
        <small data-toggle="tooltip"
               title="OneDAS is running and recording data."
               class="text-success">
            RUN
        </small>
        <!-- /ko -->
        <span>
            )
        </span>
    </a>
    <div class="collapse navbar-collapse" id="navbar-main">
        <ul class="navbar-nav mr-auto">
            @foreach (var pageDescription in state.PageDescriptionSet)
            {
                <NavItem PageDescription="pageDescription" />
            }
        </ul>
        <span class="navbar-text">
            <em>One DAS to rule them all</em> - <em data-bind="text: ProductVersion"></em>
        </span>
    </div>
</nav>
